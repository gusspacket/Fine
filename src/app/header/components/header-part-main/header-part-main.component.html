<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,100,0,0" />

<div class="container d-none и d-xl-block">
  <div class="row">

    <div class="d-none и d-xl-block col-xl-2">
      <a class="main__logo" routerLink="/" *ngIf="settings">
        <img src="{{settings.logo}}" alt="MainLogo" class="main__img">
      </a>
    </div>


    <div class="d-none d-xl-block col-xl-7">
      <div class="input-group">
        <input [(ngModel)]="searchTerm" (keydown.enter)="letsSearch(searchTerm)" type="text" class="form-control"
          placeholder="Например MacBook Pro M1" aria-describedby="button-addon2">
        <button type="button" class="header__button" (click)="letsSearch(searchTerm)">Найти</button>
      </div>
    </div>


    <div class="d-none d-xl-block col-xl-3 header__icons__group">
      <div class="header__icons" >
        @if (!isLogging) {
        <a class="header__icons__item" (click)="authOrUser()">
          <span class="material-icons material__style">
            person
          </span>
          <span class="header__icons__name">Войти</span>
        </a>
        }

        @else {
          <a class="header__icons__item" [routerLink]="['/user']">
            <span class="material-icons material__style">
              person
            </span>
            <span class="header__icons__name">Профиль</span>
          </a>
        }


        <a class="header__icons__item">
          <span class="material-icons material__style">
            favorite
          </span>
          <span class="header__icons__name">Избранное</span>
        </a>

        <a class="header__icons__item" [routerLink]="['/cart']">
          <span class="material-icons material__style">
            shopping_cart
          </span>
          <span class="header__icons__name">Корзина</span>
        </a>


      </div>
    </div>

  </div>
</div>













<div class="container-fluid mt-3 mb-3  d-xl-none" >

      <nav class="navbar">



          <div class="d-flex justify-content-left">
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
              <span class="navbar-toggler-icon"></span>
            </button>
            <a class="main__logo ms-2" routerLink="/" *ngIf="settings">
              <img src="{{settings.logo}}" alt="MainLogo" class="main__img">
            </a>

          </div>



            <div class="icons__small">
              <a class="profile__cart" [routerLink]="['/cart']">
                <span class="material-icons icons__profile">
                  shopping_cart
                </span>
              </a>
              <a class="profile__cart" (click)="authOrUser()">
                <span class="material-icons icons__profile">
                  person_outline
                </span>
              </a>
            </div>




          <div class="offcanvas offcanvas-start " tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
            <div class="offcanvas-header">
              <div class="mobile__user__head">

                <svg class="user__svg" width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M22 44C34.1503 44 44 34.1503 44 22C44 9.84973 34.1503 0 22 0C9.84973 0 0 9.84973 0 22C0 34.1503 9.84973 44 22 44Z" fill="#C7E1FF" />
                  <mask id="mask0_2073_1789" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="-1" y="-1" width="46" height="46">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M22 44C34.1503 44 44 34.1503 44 22C44 9.84973 34.1503 0 22 0C9.84973 0 0 9.84973 0 22C0 34.1503 9.84973 44 22 44Z" fill="white" stroke="white" />
                  </mask>
                  <g mask="url(#mask0_2073_1789)">
                    <path d="M17.1512 33.8012L11.3457 36.9234C11.005 37.1065 8.31192 38.1996 8.02704 38.445C13.4143 42.5016 18.1689 43.4054 22.9429 43.4054C27.6816 43.4054 32.895 40.8254 36.2703 38.05C35.959 37.7908 34.7486 37.1485 34.3741 36.9647L28.1574 33.9004C27.3541 33.5044 26.8468 32.6951 26.8468 31.8097V29.4049C27.0215 29.2088 27.2212 28.9568 27.4349 28.6593C28.2822 27.4794 28.9232 26.1814 29.3674 24.8197C30.1648 24.5772 30.7522 23.8512 30.7522 22.9883V20.4213C30.7522 19.8567 30.4974 19.3521 30.1016 18.9988V15.2881C30.1016 15.2881 30.8748 9.51355 22.9429 9.51355C15.011 9.51355 15.7841 15.2881 15.7841 15.2881V18.9988C15.3876 19.3521 15.1336 19.8567 15.1336 20.4213V22.9883C15.1336 23.6644 15.4941 24.2594 16.0337 24.6033C16.6843 27.3954 18.3877 29.4049 18.3877 29.4049V31.7504C18.387 32.6046 17.9126 33.3915 17.1512 33.8012Z" fill="white" />
                  </g>
                </svg>
                @if (isLogging && user) {
                  <div class="user__info" [routerLink]="['/user']" data-bs-dismiss="offcanvas">
                    <span class="user__title">Привет,</span>
                    <span class="user__title">{{ user.first_name.length > 14 ? (user.first_name | slice:0:17) + '...' : user.first_name }}</span>
                  </div>
                } @else {
                  <div class="user__info" (click)="authOrUser()" data-bs-dismiss="offcanvas">
                  <span class="user__title__reg">Войти </span>
                  <span class="user__title__reg">в профиль</span>
                  </div>
                }
              </div>
              <button type="button" class="btn-close  button__close__navbar" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body pt-1">

              <div class="dropdown__home" data-bs-dismiss="offcanvas">
                <a routerLink="/">Главная</a>
              </div>

              <div class="dropdown">

                <div
                  class="btn dropdown-toggle dropdownMenuHeader collections__items__dropdown"
                  id="dropdownMenuButton"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
                >
                 Все категории
                </div>
                <div
                  class="dropdown-menu dropdown-menu-right"
                  aria-labelledby="dropdownMenuButton"
                >
                @for (category of categoriesAll; track $index) {
                  <a
                  [routerLink]="['/products', category.slug]"
                    class="dropdown-item"
                    data-bs-dismiss="offcanvas"
                  >
                    {{ category.name }}
                  </a>
                }
                </div>
              </div>

              <div class="dropdown__home" data-bs-dismiss="offcanvas">
                <a  href="#">Избранные</a>
              </div>



              <div class="dropdown__home" data-bs-dismiss="offcanvas">
                <a  routerLink="/cart">Корзина</a>
              </div>


              <div class="dropdown__line"> </div>
              <div class="dropdown__home mt-2" data-bs-dismiss="offcanvas">
                <span class="material-icons ms-2">
                  support_agent
                  </span>
                <a  routerLink="/cart">Связаться с нами</a>
              </div>

              @if (isLogging) {
                <div class="dropdown__home" data-bs-dismiss="offcanvas">
                  <span class="material-icons ms-2">
                    logout
                    </span>
                  <a routerLink="/" (click)="logOut()">Выйти</a>
                </div>
              }



            </div>

          </div>

      </nav>

</div>

<!--
  <div class="input__mobile w-100 d-xl-none">
    <input [(ngModel)]="searchTerm" (keydown.enter)="letsSearch(searchTerm)" type="text"
    placeholder="Например MacBook Pro M1">
  </div> -->





































